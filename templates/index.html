<!DOCTYPE html>
<html>
<head>
    <title>Data Viewer</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.4/css/bulma.min.css">
    <script type="text/javascript" src="//code.jquery.com/jquery-1.4.2.min.js"></script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/socket.io/1.3.6/socket.io.min.js"></script>
    <script type="text/javascript" charset="utf-8">
        var socket;
        $(document).ready(function() {

            socket = io.connect('http://' + document.domain + ':' + location.port);

            socket.on('connect', function() {
                socket.emit('request_data', {});
            });                           

            socket.on('data', function(data) {                        
                for (var i = 0; i < data.length; i++) {
                    var convo = data[i];
                    var images = convo["images"];
                    var utt = convo["utterances"];

                    for (var j = 0; j < images.length; j++) {
                        var image_path = images[j];
                        var single_utt = utt[j];
                        var row = document.createElement("div"); 
                        row.className = 'row';
                        
                        var img = document.createElement('img'); 
                        img.src = images[j];
                        row.appendChild(img);

                        var text = document.createTextNode(single_utt); 
                        row.appendChild(text);
                                                            
                        document.getElementById("container").appendChild(row);
                    }

                    var spacer = document.createElement("div");
                    spacer.className = "spacer";
                    document.getElementById("container").appendChild(spacer);
                }
            });                                       
        });
    </script>
    <style type="text/css">
        .row {
            margin: 25px;            
        }

        img {
            margin: 10px;
            width: 200px;
            height: 200px;
        }

        .spacer {
            margin-bottom: 400px;
        }
    </style>
</head>
<body>
    <div id="container">
        
    </div>
</body>
</html>